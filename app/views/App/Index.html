{{set . "title" "Home"}}
{{template "header.html" .}}

<p style="padding: 5px">
    <button onclick="getRaceList()">POST /api/getRaceList</button>
    data:{"dt":"2016-05-21","city":"саратов","name":"роло"}
</p>
<p style="padding: 5px">
    <button onclick="getRaceInfo('edec71a9-f2cb-44c9-b142-d2d3747307b1')">POST /api/getRaceInfo</button>
    data:{"raceUID":"edec71a9-f2cb-44c9-b142-d2d3747307b1"}
</p>
<p style="padding: 5px">
    <button onclick="getClassList('edec71a9-f2cb-44c9-b142-d2d3747307b1')">POST /api/getClassList</button>
    data:{"raceUID":"edec71a9-f2cb-44c9-b142-d2d3747307b1"}
</p>
<p style="padding: 5px">
    <button onclick="getMarshalList('edec71a9-f2cb-44c9-b142-d2d3747307b1')">POST /api/getMarshalList</button>
    data:{"raceUID":"edec71a9-f2cb-44c9-b142-d2d3747307b1"}
</p>

<script>
    function getRaceList() {
        sendPost("/api/getRaceList", {
            "dt": "2016-05-21",
            "city": "ара",
            "name": "рол"
        });
    };
    function getRaceInfo(raceUID) {
        sendPost("/api/getRaceInfo", {
            "raceUID": raceUID,
        });
    };
    function getClassList(raceUID) {
        sendPost("/api/getClassList", {
            "raceUID": raceUID,
        });
    };
    function getMarshalList(raceUID) {
        sendPost("/api/getMarshalList", {
            "raceUID": raceUID,
        });
    };
    
    
    
    
    function sendPost(url, data) {
        $.ajax({
            type: 'POST',
            host: '/',
            port: '9000',
            url: url,
            data: data,
            success: function (data, textStatus, jqXHR) {                
                var obj = JSON.parse(data)
                switch (url) {
                    case "/api/getRaceList":
                        console.log("getRaceList");
                        break;
                    case "/api/getRaceInfo":
                        console.log("getRaceInfo");
                        break;
                }                
                console.dir(obj);            
            },
            error: function (jqXHR, textStatus, errorThown) {
                console.error(jqXHR);
            }
        });
    }    
</script>

{{template "footer.html" .}}
